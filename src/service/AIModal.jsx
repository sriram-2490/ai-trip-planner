import { GoogleGenerativeAI } from "@google/generative-ai";

  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  

    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget, Give me a Hotels options list with Hotel Name, Hotel address, Price, hotel image URL, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image URL, Geo Coordinates, ticket Pricing, rating, Time to travel each of the location for 3 days with each day plan with best time to visit in JSON format."},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "Okay, here's a detailed travel plan for Las Vegas for a couple on a budget, presented in JSON format, along with hotel options and a suggested itinerary for 3 days.  This itinerary focuses on free or inexpensive activities.  Remember that prices can vary, so always check the latest information before you go!\n\n```json\n{\n  \"tripName\": \"Las Vegas Budget Getaway (3 Days)\",\n  \"travelers\": \"Couple\",\n  \"budget\": \"Cheap\",\n  \"location\": \"Las Vegas, Nevada\",\n  \"currency\": \"USD\",\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": 35,\n      \"hotelImageURL\": \"https://www.kayak.com/rimg/himg/6e/13/21/ice-5423-71825868-586477.jpg?width=720&height=576&crop=true\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1282,\n        \"longitude\": -115.1691\n      },\n      \"rating\": 3.5,\n      \"description\": \"Affordable hotel on the Strip with circus-themed attractions, including free circus acts and a large amusement park (Adventuredome, requires tickets).  Basic rooms, but a good value for the location and entertainment.\",\n      \"amenities\": [\"Pool\", \"Casino\", \"Free Circus Acts\", \"Adventuredome (extra cost)\", \"Restaurants\"]\n    },\n    {\n      \"hotelName\": \"Stratosphere Hotel, Casino & Tower\",\n      \"hotelAddress\": \"2000 S Las Vegas Blvd, Las Vegas, NV 89104\",\n      \"price\": 40,\n      \"hotelImageURL\": \"https://www.kayak.com/rimg/himg/7c/2a/f5/ice-15058-25377762-011177.jpg?width=720&height=576&crop=true\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1467,\n        \"longitude\": -115.1558\n      },\n      \"rating\": 3.7,\n      \"description\": \"Located at the north end of the Strip, offering panoramic views from the Stratosphere Tower. Rooms are reasonably priced.  Thrill rides at the top of the tower are an extra cost, but the views are worth it.\",\n      \"amenities\": [\"Pool\", \"Casino\", \"Stratosphere Tower\", \"Thrill Rides (extra cost)\", \"Restaurants\", \"Shows\"]\n    },\n    {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": 45,\n      \"hotelImageURL\": \"https://www.kayak.com/rimg/himg/98/55/50/ice-36790-51271961-233456.jpg?width=720&height=576&crop=true\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.0985,\n        \"longitude\": -115.1741\n      },\n      \"rating\": 4.0,\n      \"description\": \"Medieval-themed hotel at the south end of the Strip. Affordable rooms and a fun atmosphere. Good for families and those looking for a themed experience.\",\n      \"amenities\": [\"Pool\", \"Casino\", \"Tournament of Kings Dinner Show (extra cost)\", \"Restaurants\", \"Shops\"]\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"Exploring the Strip (South End)\",\n      \"activities\": [\n        {\n          \"placeName\": \"Welcome to Las Vegas Sign\",\n          \"placeDetails\": \"Iconic sign for a photo opportunity. A must-do for any Vegas visitor.\",\n          \"placeImageURL\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c8/Welcome_to_Las_Vegas_sign.JPG/1280px-Welcome_to_Las_Vegas_sign.JPG\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0829,\n            \"longitude\": -115.1732\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5,\n          \"timeToTravel\": \"Depends on your starting point (e.g., 15-20 minutes from mid-Strip by bus or taxi)\",\n          \"bestTimeToVisit\": \"Early morning (less crowded) or late evening (for the lights)\"\n        },\n        {\n          \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n          \"placeDetails\": \"Stunning floral displays that change seasonally. Free to enter.\",\n          \"placeImageURL\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/1/15/Bellagio_Botanical_Gardens_%286873248901%29.jpg/1280px-Bellagio_Botanical_Gardens_%286873248901%29.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1127,\n            \"longitude\": -115.1742\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.8,\n          \"timeToTravel\": \"Walkable from many Strip hotels.\",\n          \"bestTimeToVisit\": \"Any time, but avoid peak hours (mid-day) for a less crowded experience.\"\n        },\n        {\n          \"placeName\": \"Bellagio Fountains\",\n          \"placeDetails\": \"Spectacular water show choreographed to music. Free to watch.\",\n          \"placeImageURL\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/9/9f/Bellagio_fountains_201506.jpg/1280px-Bellagio_fountains_201506.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1128,\n            \"longitude\": -115.1740\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.9,\n          \"timeToTravel\": \"Adjacent to the Conservatory.\",\n          \"bestTimeToVisit\": \"Evenings are best for the full experience with lights.  Shows run frequently.\"\n        },\n        {\n          \"placeName\": \"Walk the Strip\",\n          \"placeDetails\": \"Soak in the atmosphere, people-watch, and see the various themed hotels (Luxor, Excalibur, New York-New York).\",\n          \"placeImageURL\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/4/4c/Las_Vegas_Strip_Night_View.jpg/1280px-Las_Vegas_Strip_Night_View.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1146,\n            \"longitude\": -115.1728\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.6,\n          \"timeToTravel\": \"N/A\",\n          \"bestTimeToVisit\": \"Evenings are vibrant with lights and activity.  Consider walking in the early morning or late evening to avoid the heat during the day.\"\n        }\n      ],\n      \"bestTimeOfDay\": \"Afternoon/Evening\"\n    },\n    \"day2\": {\n      \"theme\": \"Downtown Las Vegas & Free Attractions\",\n      \"activities\": [\n        {\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"Light and sound show on a pedestrian mall. Free to watch.\",\n          \"placeImageURL\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b0/Fremont_Street_Experience_at_night.jpg/1280px-Fremont_Street_Experience_at_night.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1703,\n            \"longitude\": -115.1423\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.7,\n          \"timeToTravel\": \"About 20-30 minutes from the Strip by bus (The Deuce) or taxi/rideshare.\",\n          \"bestTimeToVisit\": \"Evenings for the Viva Vision light shows.  Check the schedule for show times.\"\n        },\n        {\n          \"placeName\": \"Container Park\",\n          \"placeDetails\": \"Unique shopping and dining area built from shipping containers. Free to browse.\",\n          \"placeImageURL\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/3/36/Container_Park_Las_Vegas.jpg/1280px-Container_Park_Las_Vegas.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1708,\n            \"longitude\": -115.1406\n          },\n          \"ticketPricing\": \"Free (unless you purchase food or goods)\",\n          \"rating\": 4.3,\n          \"timeToTravel\": \"Short walk from Fremont Street.\",\n          \"bestTimeToVisit\": \"Evening for the atmosphere.\"\n        },\n        {\n          \"placeName\": \"Gold and Silver Pawn Shop (Pawn Stars)\",\n          \"placeDetails\": \"Shop featured on the TV show 'Pawn Stars'. Free to visit (but be prepared for crowds).\",\n          \"placeImageURL\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e8/Gold_%26_Silver_Pawn_Shop.jpg/1280px-Gold_%26_Silver_Pawn_Shop.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1672,\n            \"longitude\": -115.1500\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 3.8,\n          \"timeToTravel\": \"Short Taxi/Uber ride from Fremont Street.\",\n          \"bestTimeToVisit\": \"Avoid peak hours (mid-day) if possible to minimize crowds.\"\n        }\n      ],\n      \"bestTimeOfDay\": \"Evening (for Fremont Street Experience)\"\n    },\n    \"day3\": {\n      \"theme\": \"Nature & Budget Entertainment\",\n      \"activities\": [\n        {\n          \"placeName\": \"Red Rock Canyon National Conservation Area\",\n          \"placeDetails\": \"Scenic drive and hiking trails.  Entrance fee is required per vehicle, but worth it for the natural beauty. Consider carpooling to share costs.\",\n          \"placeImageURL\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/4/4d/Red_Rock_Canyon_National_Conservation_Area_Panorama.jpg/1280px-Red_Rock_Canyon_National_Conservation_Area_Panorama.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1368,\n            \"longitude\": -115.4158\n          },\n          \"ticketPricing\": \"15 USD per vehicle\",\n          \"rating\": 4.7,\n          \"timeToTravel\": \"About 30 minutes by car from the Strip.\",\n          \"bestTimeToVisit\": \"Early morning or late afternoon to avoid the heat and for better lighting for photos.\"\n        },\n        {\n          \"placeName\": \"Ethel M Chocolate Factory and Cactus Garden\",\n          \"placeDetails\": \"Free chocolate factory tour and a beautiful cactus garden to explore.  Good for a relaxing afternoon.\",\n          \"placeImageURL\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a1/Ethel_M_Chocolate_Factory_and_Cactus_Garden.jpg/1280px-Ethel_M_Chocolate_Factory_and_Cactus_Garden.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0372,\n            \"longitude\": -115.0767\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.4,\n          \"timeToTravel\": \"About 20-30 minutes by car from the Strip.\",\n          \"bestTimeToVisit\": \"Any time of day, but cooler parts of the day are preferable for the Cactus Garden.\"\n        },\n                {\n          \"placeName\": \"High Roller Observation Wheel (Optional - Budget permitting)\",\n          \"placeDetails\": \"Offers great views of the city at Sunset. Cheaper during the day.\",\n          \"placeImageURL\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/5/59/High_Roller_%28Las_Vegas%29.jpg/1280px-High_Roller_%28Las_Vegas%29.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1148,\n            \"longitude\": -115.1698\n          },\n          \"ticketPricing\": \"From $25-37 depending on the time of day and deals.\",\n          \"rating\": 4.5,\n          \"timeToTravel\": \"Centrally located on the Strip, easily walkable from many hotels\",\n          \"bestTimeToVisit\": \"Daytime for cheaper prices, or sunset for optimal views, check for happy hour pricing\",\n         },\n      ],\n      \"bestTimeOfDay\": \"Morning/Afternoon\"\n    }\n  },\n  \"budgetTips\": [\n    \"Take advantage of free attractions (Bellagio fountains, Conservatory, Fremont Street Experience).\",\n    \"Use public transportation (The Deuce bus) to get around the Strip and downtown.\",\n    \"Look for happy hour deals on drinks and appetizers.\",\n    \"Eat at affordable restaurants or food courts.\",\n    \"Bring your own water bottles to avoid buying expensive bottled water.\",\n    \"Consider bringing snacks to avoid buying them on the strip.\",\n    \"Walk when you can to save on transportation costs.\",\n    \"Look for free shows and entertainment at casinos.\"\n  ],\n  \"importantNotes\": [\n    \"Prices are subject to change. Always check current pricing and schedules before your trip.\",\n    \"Las Vegas can be very hot, especially in the summer. Stay hydrated and wear sunscreen.\",\n    \"Be aware of your surroundings and take precautions against theft.\",\n    \"Book hotels in advance, especially if traveling during peak season.\",\n    \"Tip service staff appropriately.\"\n  ]\n}\n```\n\n**Explanation of Fields:**\n\n*   **`tripName`**: The name of the travel plan.\n*   **`travelers`**: The type of travelers (e.g., couple, family).\n*   **`budget`**: The budget level (e.g., cheap, moderate, luxury).\n*   **`location`**: The destination city.\n*   **`currency`**: The currency used for pricing.\n*   **`hotelOptions`**: An array of hotel objects, each with:\n    *   **`hotelName`**: The name of the hotel.\n    *   **`hotelAddress`**: The physical address of the hotel.\n    *   **`price`**: An approximate starting price per night.  *This is a highly variable number and you should check for real-time prices.*\n    *   **`hotelImageURL`**: A URL to an image of the hotel.\n    *   **`geoCoordinates`**: Latitude and longitude of the hotel.\n    *   **`rating`**: A rating out of 5.\n    *   **`description`**: A brief description of the hotel.\n    *   **`amenities`**: A list of amenities available at the hotel.\n*   **`itinerary`**: An object containing the daily itineraries:\n    *   **`day1`, `day2`, `day3`**: Each day has:\n        *   **`theme`**: A theme for the day's activities.\n        *   **`activities`**: An array of activity objects, each with:\n            *   **`placeName`**: The name of the place.\n            *   **`placeDetails`**: A description of the place.\n            *   **`placeImageURL`**: A URL to an image of the place.\n            *   **`geoCoordinates`**: Latitude and longitude of the place.\n            *   **`ticketPricing`**: The cost of admission (if applicable).\n            *   **`rating`**: A rating out of 5.\n            *   **`timeToTravel`**: Estimated travel time from a central point (e.g., mid-Strip).\n            *   **`bestTimeToVisit`**: The optimal time to visit.\n*   **`budgetTips`**:  An array of tips for saving money.\n*   **`importantNotes`**:  An array of important things to keep in mind.\n\n**Important Considerations:**\n\n*   **Hotel Prices:**  The hotel prices are *highly approximate*.  They can fluctuate dramatically based on the time of year, day of the week, and demand. Always check the latest prices on hotel booking websites (e.g., Kayak, Expedia, Booking.com) before booking.  Look for deals and discounts. Consider staying mid-week for better rates.\n*   **Transportation:** Walking is free and a good way to see parts of the Strip. The Deuce bus is a relatively inexpensive way to get around, especially if you buy a multi-day pass.  Taxis and rideshares can be expensive, especially during peak hours.\n*   **Food:**  Eating on the Strip can be expensive.  Look for cheaper options like fast food, food courts, or off-Strip restaurants. Consider buying some groceries and snacks to save money.\n*   **Shows:**  Many shows are expensive. Look for free shows, or discounted tickets at Tix4Tonight booths.\n*   **Gambling:** Set a budget for gambling and stick to it. Don't chase your losses. Remember that the house always has an edge.\n*   **Flexibility:** Be prepared to adjust your itinerary based on weather, crowds, and your preferences.\n*   **Reservations:** Make reservations for shows and popular restaurants, especially if you're traveling during peak season.\n*   **Safety:**  Be aware of your surroundings and take precautions against theft.\n\nThis JSON provides a comprehensive framework for planning a budget-friendly trip to Las Vegas.  Remember to customize it based on your interests and preferences.  Have a great time!\n"},
          ],
        },
      ],
    });